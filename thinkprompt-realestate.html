<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ThinkPrompt - Professional Prompt Library</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:linear-gradient(135deg,#f1f5f9 0%,#e2e8f0 100%);color:#1e293b;line-height:1.6;font-size:16px;min-height:100vh}
.page-wrapper{max-width:1200px;margin:0 auto;padding:0}
.brand-header{background:linear-gradient(135deg,#1e3a5f 0%,#2c5282 100%);padding:8px 16px;box-shadow:0 8px 32px rgba(30,58,95,.3);color:#fff;text-align:center;border-radius:16px 16px 0 0;margin-bottom:0}
.new-logo{width:100%;max-width:250px;height:auto;margin:0 auto 8px;display:block}
.container{max-width:900px;margin:0 auto;display:flex;flex-direction:column;gap:0}
.card{background:rgba(255,255,255,.95)!important;backdrop-filter:blur(10px)!important;border-radius:0!important;border:1px solid rgba(255,255,255,.2)!important;border-top:none!important;overflow:hidden!important;box-shadow:0 8px 32px rgba(0,0,0,.1)!important;margin:0!important}
.card:last-child{border-bottom:1px solid rgba(255,255,255,.2)!important;border-radius:0 0 16px 16px!important}
.copy-success{position:fixed;top:100px;right:20px;background:#d4af37;color:#1e3a5f;padding:12px 20px;border-radius:8px;font-weight:600;z-index:2000;transform:translateX(100%);transition:transform .3s ease;display:flex;align-items:center;gap:8px}
.copy-success.show{transform:translateX(0)}
.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:2000}
.modal-dialog{background:#fff;border-radius:16px;max-width:400px;width:90%;max-height:80vh;overflow-y:auto;box-shadow:0 20px 50px rgba(0,0,0,.3)}
.subsection{border-bottom:1px solid #4a6fa5}
.subsection-header{background:linear-gradient(135deg,#1e3a5f,#2c5282);padding:16px 28px;border-bottom:1px solid #4a6fa5}
.subsection-title{color:#d4af37;font-family:Impact,'Arial Black',sans-serif;font-size:18px;font-weight:900;letter-spacing:1px;margin:0 0 6px 0;text-align:center}
.subsection-description{color:#f4e4c1;font-size:13px;font-weight:500;margin:0;opacity:.9}
.starter-tabs-container{background:linear-gradient(135deg,#1e3a5f,#2c5282);padding:20px 24px;border-bottom:1px solid #4a6fa5;position:relative}
.starter-tabs-container::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,#d4af37,transparent)}
.starter-tabs-container::after{content:'';position:absolute;bottom:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,#d4af37,transparent)}
.starter-tabs{display:grid;grid-template-columns:repeat(auto-fit,minmax(110px,1fr));gap:12px;max-width:900px;margin:0 auto}
.starter-tab{padding:14px 18px;border:2px solid #4a6fa5;border-radius:10px;background:linear-gradient(135deg,#1e3a5f,#2c5282);color:#d4af37;font-size:13px;font-weight:700;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:6px;min-height:50px;text-align:center;position:relative;overflow:hidden;box-shadow:0 3px 12px rgba(30,58,95,.3)}
.starter-tab:hover{border-color:#d4af37;color:#fff;background:linear-gradient(135deg,#2c5282,#3d6ba8);transform:translateY(-2px);box-shadow:0 6px 20px rgba(212,175,55,.2)}
.starter-tab.active{background:linear-gradient(135deg,#d4af37,#c5a572);color:#1e3a5f;border-color:#d4af37;box-shadow:0 6px 20px rgba(212,175,55,.4);transform:translateY(-2px)}
.templates-header{background:linear-gradient(135deg,#1e3a5f,#2c5282)!important;padding:20px 28px;border-top:1px solid #4a6fa5;text-align:center;position:relative}
.templates-header::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,#d4af37,transparent)}
.templates-title{color:#d4af37!important;font-family:Impact,'Arial Black',sans-serif;font-size:18px;font-weight:900;letter-spacing:1px;text-shadow:2px 2px 6px rgba(0,0,0,.7);margin:0}
.form-textarea{width:100%;padding:16px 18px;border:2px solid #e2e8f0;border-radius:10px;font-size:16px;resize:vertical;transition:all .3s ease;background:rgba(255,255,255,.9);backdrop-filter:blur(10px);font-family:inherit}
.form-textarea.form-select{min-height:60px;resize:none;appearance:none;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");background-position:right 18px center;background-repeat:no-repeat;background-size:20px;padding-right:50px}
.form-textarea:focus{outline:none;border-color:#d4af37;box-shadow:0 0 0 3px rgba(212,175,55,.1);background:rgba(255,255,255,.98)}
.welcome-state{padding:60px 24px;text-align:center;color:#64748b}
.welcome-icon{font-size:48px;margin-bottom:20px;opacity:.6}
.welcome-title{font-size:20px;font-weight:700;margin-bottom:8px;color:#374151}
.welcome-text{font-size:14px;line-height:1.5}
.workspace-section{background:rgba(255,255,255,.95);backdrop-filter:blur(10px);border-radius:0 0 16px 16px;border:1px solid rgba(255,255,255,.2);border-top:none;overflow:hidden;box-shadow:0 8px 32px rgba(0,0,0,.1);margin-top:0;display:none}
.workspace-section.show{display:block}
.workspace-title-container{background:linear-gradient(135deg,#1e3a5f,#2c5282);padding:20px 28px;text-align:center;position:relative;border-bottom:1px solid #4a6fa5}
.workspace-title-container::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,#d4af37,transparent)}
.workspace-title{color:#d4af37;font-family:Impact,'Arial Black',sans-serif;font-size:18px;font-weight:900;letter-spacing:1px;text-shadow:2px 2px 6px rgba(0,0,0,.7);margin:0}
.workspace-description{color:#f4e4c1;font-size:14px;font-weight:500;margin-top:8px;opacity:.9}
.workspace-actions-container{background:linear-gradient(135deg,#1e3a5f,#2c5282);padding:24px;border-bottom:1px solid #4a6fa5;position:relative}
.workspace-actions-container::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,#d4af37,transparent)}
.workspace-actions-container::after{content:'';position:absolute;bottom:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,#d4af37,transparent)}
.workspace-actions{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:12px;max-width:900px;margin:0 auto}
.action-btn{padding:14px 18px;border:2px solid #4a6fa5;border-radius:10px;background:linear-gradient(135deg,#1e3a5f,#2c5282);color:#d4af37;font-size:13px;font-weight:700;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:6px;min-height:50px;text-align:center;position:relative;overflow:hidden;box-shadow:0 3px 12px rgba(30,58,95,.3)}
.action-btn:hover{border-color:#d4af37;color:#fff;background:linear-gradient(135deg,#2c5282,#3d6ba8);transform:translateY(-2px);box-shadow:0 6px 20px rgba(212,175,55,.2)}
.action-btn.primary{background:linear-gradient(135deg,#d4af37,#c5a572);color:#1e3a5f;border-color:#d4af37;box-shadow:0 6px 20px rgba(212,175,55,.4);transform:translateY(-2px)}
.workspace-content{padding:32px 28px;min-height:200px}
.prompt-display{width:100%;min-height:300px;padding:20px;border:2px solid #e2e8f0;border-radius:12px;font-size:16px;line-height:1.6;color:#1e293b;background:rgba(255,255,255,.8);backdrop-filter:blur(10px);resize:vertical;white-space:pre-wrap;overflow-y:auto}
.prompt-display:focus{outline:none;border-color:#d4af37;box-shadow:0 0 0 3px rgba(212,175,55,.1);background:rgba(255,255,255,.95)}
.workspace-empty{text-align:center;padding:60px 24px;color:#64748b}
.workspace-empty-icon{font-size:48px;margin-bottom:20px;opacity:.6}
.workspace-empty-title{font-size:20px;font-weight:700;margin-bottom:8px;color:#374151}
.workspace-empty-text{font-size:14px;line-height:1.5}
.starter-prompt-card{background:#fff;border:1px solid #e2e8f0;border-radius:8px;padding:16px;cursor:pointer;transition:all .2s}
.starter-prompt-card:hover{border-color:#d4af37;box-shadow:0 4px 12px rgba(212,175,55,.1);transform:translateY(-1px)}
.icon{width:18px;height:18px;stroke:currentColor;fill:none;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round}
#libraryList{min-height:200px;overflow-y:auto}
.prompt-item{display:flex;align-items:center;padding:12px;border:1px solid #e2e8f0;border-radius:8px;margin-bottom:8px;background:#fff;cursor:pointer;transition:all .2s}
.prompt-item:hover{border-color:#d4af37;box-shadow:0 2px 8px rgba(212,175,55,.1)}
.prompt-checkbox{margin-right:12px}
.prompt-info{flex:1;cursor:pointer;padding:4px 8px;border-radius:4px;transition:background-color .2s}
.prompt-info:hover{background-color:rgba(212,175,55,.05)}
.prompt-title{font-weight:600;color:#1e293b}
.prompt-date{font-size:12px;color:#64748b;margin-top:4px}
</style>
</head>
<body>
<div class="page-wrapper">
  <div class="copy-success" id="copySuccess">
    <svg class="icon" viewBox="0 0 24 24"><polyline points="20,6 9,17 4,12"></polyline></svg>
    Copied!
  </div>

  <header class="brand-header">
    <svg class="new-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 950 240">
      <defs>
        <linearGradient id="g" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0%" stop-color="#f4e4c1"/><stop offset="100%" stop-color="#d4af37"/>
        </linearGradient>
        <filter id="s"><feDropShadow dx="2" dy="2" stdDeviation="4" flood-color="#000" flood-opacity=".7"/></filter>
      </defs>
      <g transform="translate(20,20)scale(1.08)" stroke="#d4af37" stroke-width="6" fill="none">
        <path d="M64 16C44 16,28 32,28 52c0 14,9 26,20 32v10h32v-10c11-6,20-18,20-32C100 32,84 16,64 16Z"/>
        <path d="M64 56l-10 12M64 56l10 12M64 56v16"/><line x1="46" y1="100" x2="82" y2="100"/>
        <line x1="48" y1="112" x2="80" y2="112"/><line x1="52" y1="124" x2="76" y2="124"/>
      </g>
      <text x="180" y="100" font-family="Impact" font-size="88" font-weight="900" fill="url(#g)" filter="url(#s)">ThinkPrompt</text>
      <text x="180" y="180" font-family="Impact" font-size="88" font-weight="900" fill="url(#g)" filter="url(#s)">REAL ESTATE LIBRARY</text>
    </svg>
  </header>

  <div class="container">
    <section class="card">
      <div class="subsection">
        <div class="subsection-header">
          <h3 class="subsection-title">BROWSE LIBRARY BY CATEGORIES</h3>
        </div>
        <div class="starter-tabs-container">
          <div class="starter-tabs">
            <button class="starter-tab" data-category="favorites">
              <svg class="icon" viewBox="0 0 24 24">
                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
              </svg>
              Favorites
            </button>
            <button class="starter-tab" data-category="thankyou">
              <svg class="icon" viewBox="0 0 24 24"><path d="M20 6L9 17l-5-5"></path></svg>
              Thank You Notes
            </button>
            <button class="starter-tab" data-category="social">
              <svg class="icon" viewBox="0 0 24 24"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
              Social Media
            </button>
            <button class="starter-tab" data-category="client">
              <svg class="icon" viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
              Client Communication
            </button>
            <button class="starter-tab" data-category="outreach">
              <svg class="icon" viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
              Direct Messages
            </button>
            <button class="starter-tab" data-category="listing">
              <svg class="icon" viewBox="0 0 24 24"><path d="M2 20h20"></path><path d="M5 20V9l5-5 5 5v11"></path><path d="M9 9v11"></path><path d="M15 9v11"></path></svg>
              Listing Presentations
            </button>
            <button class="starter-tab" data-category="followup">
              <svg class="icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12,6 12,12 16,14"></polyline></svg>
              Lead Follow-Up
            </button>
          </div>
        </div>
      </div>
    </section>

    <section class="card" id="librarySection" style="display:none">
      <div class="workspace-title-container">
        <h2 class="workspace-title">LIBRARY</h2>
        <button onclick="document.getElementById('librarySection').style.display='none'" style="position:absolute;top:20px;right:20px;background:none;border:none;color:#fff;font-size:24px;cursor:pointer">&times;</button>
      </div>
      <div class="workspace-actions-container">
        <div class="workspace-actions">
          <button class="action-btn primary" onclick="loadPromptPack()">
            <svg class="icon" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17,10 12,15 7,10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>
            Load Prompt Pack
          </button>
          <button class="action-btn primary" onclick="backupLibrary()">
            <svg class="icon" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7,10 12,15 17,10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>
            Backup Library
          </button>
          <button class="action-btn primary" onclick="addSinglePrompt()">
            <svg class="icon" viewBox="0 0 24 24" style="width:24px;height:24px;stroke-width:3"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
            Add Prompt
          </button>
        </div>
      </div>
      <div style="display:grid; grid-template-columns:35% 65%; min-height:600px; border-top:1px solid #e2e8f0;">
        <div style="padding:24px; border-right:1px solid #e2e8f0; display:flex; flex-direction:column; overflow:hidden;">
          <input type="text" class="form-textarea" id="librarySearch" placeholder="Search..." style="margin-bottom:16px; min-height:50px; flex-shrink:0;"/>
          <button class="action-btn" id="deleteSelected" style="background:#ef4444;border-color:#ef4444;color:#fff;margin-bottom:20px; flex-shrink:0;">
            <svg class="icon" viewBox="0 0 24 24" style="color:#fff"><polyline points="3,6 5,6 21,6"></polyline><path d="m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"></path><line x1="10" x2="10" y1="11" y2="17"></line><line x1="14" x2="14" y1="11" y2="17"></line></svg>
            Delete Selected
          </button>
          <div id="libraryList" style="overflow-y:auto; flex:1;"></div>
        </div>
        <div style="padding:24px; display:flex; flex-direction:column; overflow:hidden;">
          <div style="display:flex; gap:8px; margin-bottom:16px; flex-wrap:wrap; flex-shrink:0;">
            <button class="action-btn" onclick="copyPrompt()" style="flex:1; min-width:100px;">
              <svg class="icon" viewBox="0 0 24 24"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="m4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
              Copy
            </button>
            <button class="action-btn" onclick="editPrompt()" style="flex:1; min-width:100px;">
              <svg class="icon" viewBox="0 0 24 24"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
              Edit
            </button>
            <button class="action-btn" onclick="exportPrompt()" style="flex:1; min-width:100px;">
              <svg class="icon" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7,10 12,15 17,10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>
              Export
            </button>
            <button class="action-btn" onclick="saveCurrentPrompt()" style="flex:1; min-width:100px;">
              <svg class="icon" viewBox="0 0 24 24"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17,21 17,13 7,13 7,21"/><polyline points="7,3 7,8 15,8"/></svg>
              Save
            </button>
          </div>
          <div class="prompt-display" id="promptDisplay" contenteditable="true" style="flex:1; overflow-y:auto;">
            <div class="workspace-empty">
              <div class="workspace-empty-icon">ðŸ’­</div>
              <h3 class="workspace-empty-title">No Prompt Selected</h3>
              <p class="workspace-empty-text">Click any prompt to view and edit it here.</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>

<div class="modal-overlay" id="addPromptOverlay" style="display:none">
  <div class="modal-dialog">
    <div class="workspace-title-container">
      <h2 class="workspace-title">ADD NEW PROMPT</h2>
      <button onclick="closeAddPromptModal()" style="position:absolute;top:20px;right:20px;background:none;border:none;color:#fff;font-size:24px;cursor:pointer">&times;</button>
    </div>
    <div style="padding:32px">
      <div style="margin-bottom:16px">
        <label style="display:block;font-weight:600;margin-bottom:8px">Title *</label>
        <input type="text" id="newPromptTitle" placeholder="Title..." class="form-textarea" style="min-height:60px;resize:none">
      </div>
      <div style="margin-bottom:16px">
        <label style="display:block;font-weight:600;margin-bottom:8px">Category *</label>
        <select id="newPromptCategory" class="form-textarea form-select">
          <option value="">Choose...</option>
          <option value="thankyou">Thank You Notes</option>
          <option value="social">Social Media</option>
          <option value="client">Client Communication</option>
          <option value="outreach">Direct Messages</option>
          <option value="listing">Listing Presentations</option>
          <option value="followup">Lead Follow-Up</option>
        </select>
      </div>
      <div style="margin-bottom:24px">
        <label style="display:block;font-weight:600;margin-bottom:8px">Content *</label>
        <textarea id="newPromptContent" placeholder="Paste prompt..." class="form-textarea" style="height:200px"></textarea>
      </div>
      <div style="display:flex;gap:12px;justify-content:flex-end">
        <button onclick="closeAddPromptModal()" style="padding:12px 24px;border:1px solid #d1d5db;background:#fff;color:#374151;border-radius:8px;cursor:pointer">Cancel</button>
        <button onclick="saveNewPrompt()" class="action-btn primary" style="padding:12px 24px;border-radius:8px">Add</button>
      </div>
    </div>
  </div>
</div>

<div class="modal-overlay" id="saveModalOverlay" style="display:none">
  <div class="modal-dialog">
    <div class="workspace-title-container">
      <h2 class="workspace-title">Save Prompt</h2>
      <button onclick="closeSaveModal()" style="position:absolute;top:20px;right:20px;background:none;border:none;color:#fff;font-size:24px;cursor:pointer">&times;</button>
    </div>
    <div style="padding:32px">
      <div style="margin-bottom:16px">
        <label style="display:block;font-weight:600;margin-bottom:8px">Title *</label>
        <input type="text" id="saveTitle" placeholder="Title..." class="form-textarea" style="min-height:60px;resize:none">
      </div>
      <div style="margin-bottom:24px">
        <label style="display:block;font-weight:600;margin-bottom:8px">Description</label>
        <textarea id="saveDescription" placeholder="Optional..." class="form-textarea" style="height:80px"></textarea>
      </div>
      <div style="display:flex;gap:12px;justify-content:flex-end">
        <button onclick="closeSaveModal()" style="padding:12px 24px;border:1px solid #d1d5db;background:#fff;color:#374151;border-radius:8px;cursor:pointer">Cancel</button>
        <button onclick="confirmSave()" class="action-btn primary" style="padding:12px 24px;border-radius:8px">Save</button>
      </div>
    </div>
  </div>
</div>

<div class="modal-overlay" id="exportModalOverlay" style="display:none">
  <div class="modal-dialog">
    <div class="workspace-title-container">
      <h2 class="workspace-title">Export Prompt</h2>
      <button onclick="closeExportModal()" style="position:absolute;top:20px;right:20px;background:none;border:none;color:#fff;font-size:24px;cursor:pointer">&times;</button>
    </div>
    <div style="padding:32px">
      <div style="margin-bottom:24px">
        <label style="display:block;font-weight:600;margin-bottom:8px">Filename *</label>
        <input type="text" id="exportFilename" placeholder="my-prompt" class="form-textarea" style="min-height:60px;resize:none">
        <p style="font-size:12px;color:#64748b;margin-top:8px">.txt will be added automatically</p>
      </div>
      <div style="display:flex;gap:12px;justify-content:flex-end">
        <button onclick="closeExportModal()" style="padding:12px 24px;border:1px solid #d1d5db;background:#fff;color:#374151;border-radius:8px;cursor:pointer">Cancel</button>
        <button onclick="confirmExport()" class="action-btn primary" style="padding:12px 24px;border-radius:8px">Export</button>
      </div>
    </div>
  </div>
</div>

<script>
const PROMPTS={thankyou:[{t:"After First Meeting",c:`You are a real estate professional who builds lasting relationships through thoughtful, personalized communication.

Your task: Write a warm, genuine thank you note after meeting a potential client for the first time.

Context: You just met with [CLIENT NAME] about [BUYING/SELLING] their home at [LOCATION]. You discussed [SPECIFIC DETAILS FROM MEETING - their timeline, needs, concerns]. They mentioned [PERSONAL DETAIL - family, pets, hobbies, etc.].

Tone and style: Warm and genuine, professional but personal, like a thank you from a trusted advisor who truly listened

Important constraints: Keep to 3-4 sentences, reference specific details from your conversation, mention next steps, include your contact info

Examples of desired output:
"Dear Sarah, It was wonderful meeting you and Luna today! I loved hearing about your plans to find a home with a fenced yard for Luna to play. I'll send over those listings in the Riverside neighborhood we discussed by tomorrow. Looking forward to helping you find the perfect home for your family!"

Please provide your response following all the above guidelines and requirements.`},{t:"Congratulations After Closing",c:`You are a real estate professional celebrating a major milestone with your client.

Your task: Write a heartfelt congratulations message after a successful closing.

Context: Your client [CLIENT NAME] just closed on their [NEW HOME/SALE] at [ADDRESS]. The journey included [SPECIFIC CHALLENGES OVERCOME]. They are [FIRST-TIME BUYERS/MOVING UP/DOWNSIZING/ETC].

Tone and style: Celebratory and warm, genuine excitement for their achievement, acknowledging the journey

Important constraints: Celebrate the achievement, acknowledge any challenges overcome, personal touch, keep to 4-5 sentences

Examples of desired output:
"Congratulations on closing on your beautiful new home! I know the inspection revealed some surprises, but you handled everything with such grace. Your family is going to make wonderful memories in that backyard. Can't wait to see the housewarming party photos!"

Please provide your response following all the above guidelines and requirements.`},{t:"Home Anniversary (Housiversary)",c:`You are a real estate professional who stays connected with past clients through thoughtful touchpoints.

Your task: Write a warm home anniversary note to a past client.

Context: [CLIENT NAME] purchased their home [NUMBER] year(s) ago. You remember [SPECIFIC DETAILS about the home, the search, or their family]. They have [PERSONAL DETAILS - kids, pets, hobbies].

Tone and style: Warm and nostalgic, like checking in with an old friend, genuine interest in their life

Important constraints: Reference the anniversary, recall a specific memory from their home search, ask about their life now, offer continued support

Examples of desired output:
"Happy 2-year home anniversary! I still remember how excited you were about that kitchen - have you hosted all those dinner parties you were planning? Hope Luna is enjoying that big backyard. I'm always here if you need anything!"

Please provide your response following all the above guidelines and requirements.`}],social:[{t:"Property Highlight Caption",c:`You are a real estate social media expert who creates engaging property showcase posts.

Your task: Write a compelling social media caption that highlights a property and drives engagement.

Context: Property at [ADDRESS] is [PRICE] with [KEY FEATURES]. Standout features include [UNIQUE SELLING POINTS]. Neighborhood offers [LIFESTYLE BENEFITS]. Target buyer is [BUYER PROFILE].

Tone and style: Engaging and visual, storyteller who helps people imagine their life in this home

Important constraints: Hook in first line, paint lifestyle picture, include key stats, call-to-action, 2-3 emojis maximum, relevant hashtags

Examples of desired output:
"Imagine sipping your morning coffee on this private balcony overlooking the lake ðŸŒ… This stunning 3BR/2BA corner unit offers [FEATURES]. Perfect for [TARGET BUYER]. DM for private showing! #DreamHome #LakeviewLiving #YourTownRealEstate"

Please provide your response following all the above guidelines and requirements.`},{t:"Market Update Post",c:`You are a real estate expert who educates your audience about market trends.

Your task: Create an informative yet accessible market update post.

Context: Current market in [AREA] shows [TREND - seller's market, buyer's market, balanced]. Key stats: [MEDIAN PRICE], [DAYS ON MARKET], [INVENTORY LEVELS]. This means [IMPLICATION FOR BUYERS/SELLERS].

Tone and style: Knowledgeable and helpful, trusted advisor breaking down complex data into actionable insights

Important constraints: Lead with the "so what", use simple language, provide actionable advice, include 1-2 key stats, encourage questions

Examples of desired output:
"ðŸ¡ Market Update: Great news for buyers! Inventory is up 15% this month, giving you more options and negotiating power. Homes are staying on market 5 days longer than last month. Translation: Now's a great time to make offers. Questions about what this means for your search? Drop them below! ðŸ‘‡"

Please provide your response following all the above guidelines and requirements.`}],client:[{t:"Transaction Status Update",c:`You are a real estate professional keeping clients informed and reassured throughout the transaction.

Your task: Write a clear status update that keeps clients informed without overwhelming them.

Context: Transaction for [ADDRESS] is at [STAGE - under contract, inspection period, financing, etc.]. Recent development: [WHAT HAPPENED]. Next step is [UPCOMING MILESTONE]. Timeline: [EXPECTED DATE].

Tone and style: Calm and professional, project manager who has everything under control

Important constraints: Clear current status, what just happened, what's next, when it will happen, one action item if needed

Examples of desired output:
"Great news on 123 Oak Street! Inspection was completed yesterday and only minor items came up. I've already requested repairs from the seller. We should hear back by Friday. Your next step is to finalize your loan by May 15th - your lender will reach out this week. Everything is on track for your June 1st closing!"

Please provide your response following all the above guidelines and requirements.`},{t:"Explaining Delays or Issues",c:`You are a real estate professional who communicates challenges honestly while maintaining client confidence.

Your task: Explain a delay or issue in a way that maintains trust and outlines the solution.

Context: [ISSUE] has occurred with the transaction for [ADDRESS]. This impacts [WHAT'S AFFECTED]. The cause is [REASON]. Solution is [PLAN]. New timeline is [DATES].

Tone and style: Honest and solution-focused, professional who handles problems calmly and competently

Important constraints: Acknowledge the issue clearly, explain the cause simply, outline the solution, provide new timeline, address concerns

Examples of desired output:
"I wanted to update you right away about a delay with your closing. The seller's lender needs an additional week to process their payoff statement. This pushes our closing from June 1st to June 8th. I've already confirmed your movers and your rate lock extends through June 15th, so we're covered. I know this is frustrating, but we'll get there!"

Please provide your response following all the above guidelines and requirements.`}],outreach:[{t:"Re-engaging Past Clients",c:`You are a real estate professional reconnecting with past clients in a genuine, non-salesy way.

Your task: Write a warm check-in message that rebuilds connection without pushing for business.

Context: You helped [CLIENT NAME] [buy/sell] their home [TIME PERIOD] ago. You remember [SPECIFIC DETAILS about them or their home search]. You're reaching out because [GENUINE REASON - market update, saw something that reminded you of them, etc.].

Tone and style: Friendly and genuine, like catching up with an old friend, no pressure

Important constraints: Personal connection first, provide value or update, no immediate ask, door open for conversation

Examples of desired output:
"Hi Sarah! I was driving past the dog park near your neighborhood today and thought of Luna - bet she's gotten big! Hope you're all loving the house. The market has been crazy lately - homes in your area are up 12% since you bought. Not suggesting anything, just wanted you to know! How's everything going?"

Please provide your response following all the above guidelines and requirements.`},{t:"Following Up After Social Interaction",c:`You are a real estate professional who converts social media engagement into meaningful connections.

Your task: Send a personalized follow-up DM after someone engages with your social content.

Context: [NAME] [liked/commented on/shared] your post about [TOPIC]. Their comment/reaction was [WHAT THEY SAID OR DID]. Their profile shows [RELEVANT DETAIL about them].

Tone and style: Friendly and conversational, building relationship not pushing sale

Important constraints: Reference their specific engagement, add value, ask question to continue conversation, low pressure

Examples of desired output:
"Hey Michael! Saw you liked my post about the new development downtown. Are you looking in that area? I actually have a private showing there tomorrow afternoon if you want to tag along and check it out - no pressure, just thought I'd offer! Either way, let me know if you want any info about the neighborhood."

Please provide your response following all the above guidelines and requirements.`}],listing:[{t:"Opening Hook for Seller Presentation",c:`You are a real estate professional who wins listings by demonstrating unique value and understanding.

Your task: Write a compelling opening that immediately differentiates you from other agents.

Context: Meeting with seller of [PROPERTY TYPE] at [ADDRESS]. Property has [KEY FEATURES]. Seller's main concerns are [CONCERNS - getting top dollar, selling quickly, etc.]. Market conditions are [CURRENT STATE].

Tone and style: Confident and consultative, expert who has done homework and has a specific plan

Important constraints: Start with insight about their property/market, demonstrate preparation, differentiate from competition, create curiosity

Examples of desired output:
"Thank you for meeting with me today. Before we dive into pricing and marketing, I want to share something specific about your home. I've been studying comps in your neighborhood, and the three homes that sold for the highest prices all had one thing in common that yours has naturally - [SPECIFIC FEATURE]. Here's my plan to highlight that..."

Please provide your response following all the above guidelines and requirements.`},{t:"Responding to 'Why Should I Choose You?'",c:`You are a real estate professional who articulates your unique value proposition clearly and confidently.

Your task: Answer the "why you?" question with specific, differentiating value.

Context: Seller is interviewing multiple agents. They care most about [MAIN CONCERN - price, speed, service, etc.]. Your unique strengths are [SPECIFIC ADVANTAGES]. Recent relevant success: [ACHIEVEMENT].

Tone and style: Confident but not arrogant, backed by specific results and methods

Important constraints: Address their specific concern, provide proof/examples, differentiate clearly, avoid generic claims

Examples of desired output:
"Great question. You mentioned getting top dollar is most important to you. Here's what makes me different: I invest in professional staging and 3D tours for every listing, which my properties sell for an average of 7% above list price. Last month, I sold a similar home three streets over for $45K above asking with five competing offers. I can show you exactly how we'll do that with your home."

Please provide your response following all the above guidelines and requirements.`}],followup:[{t:"First Contact After Inquiry",c:`You are a real estate professional who converts leads into clients through helpful, responsive communication.

Your task: Write a prompt first response to a new inquiry that starts building the relationship.

Context: [NAME] inquired about [PROPERTY/GENERAL SEARCH]. They asked [SPECIFIC QUESTION or expressed interest]. Their inquiry suggests they are [HOT/WARM/COLD LEAD].

Tone and style: Responsive and helpful, professional who moves quickly and provides value immediately

Important constraints: Respond to their specific question, provide additional valuable information, suggest next step, make it easy to respond

Examples of desired output:
"Hi Jennifer! Thanks for your inquiry about 456 Maple Street. Great eye - that kitchen is stunning! I can get you in to see it as early as tomorrow afternoon if you're available. I'm also sending you two other homes that just hit the market with similar features but are closer to your preferred school district. When works best for a quick call to discuss what you're looking for?"

Please provide your response following all the above guidelines and requirements.`},{t:"Nurturing Cold Leads",c:`You are a real estate professional who stays top-of-mind with leads who aren't ready to act yet.

Your task: Write a value-adding touchpoint that keeps the conversation alive without being pushy.

Context: [NAME] inquired about [TOPIC] [TIME PERIOD] ago but hasn't moved forward. They mentioned [THEIR SITUATION - not ready yet, just looking, etc.]. Good reason to reach out: [NEW LISTING, MARKET UPDATE, HELPFUL RESOURCE].

Tone and style: Helpful and patient, trusted advisor who provides value without pressure

Important constraints: Provide genuine value, acknowledge their timeline, no pressure, easy to respond or ignore

Examples of desired output:
"Hi Tom! I know you mentioned you weren't planning to move until next spring, but I just saw this listing and immediately thought of you based on your search criteria - it has that workshop you mentioned wanting. No pressure at all, just wanted to send it your way in case you wanted a peek. Also happy to set up alerts so you see new listings automatically as we get closer to spring. Let me know!"

Please provide your response following all the above guidelines and requirements.`}]};

function initializeFavorites() {
  const savedPrompts = JSON.parse(localStorage.getItem('thinkprompt_saved') || '[]');
  let updated = false;
  
  savedPrompts.forEach(prompt => {
    if (prompt.favorite === undefined) {
      prompt.favorite = false;
      updated = true;
    }
  });
  
  if (updated) {
    localStorage.setItem('thinkprompt_saved', JSON.stringify(savedPrompts));
  }
}

function toggleFavorite(id) {
  const savedPrompts = JSON.parse(localStorage.getItem('thinkprompt_saved') || '[]');
  const prompt = savedPrompts.find(p => p.id == id);
  if (!prompt) return;
  
  prompt.favorite = !prompt.favorite;
  
  localStorage.setItem('thinkprompt_saved', JSON.stringify(savedPrompts));
  
  const searchTerm = document.getElementById('librarySearch').value;
  const activeTab = document.querySelector('.starter-tab.active');
  const currentCategory = activeTab ? activeTab.dataset.category : '';
  renderPromptsList(searchTerm, currentCategory);
}

function loadSystemPrompts(){
const existing=JSON.parse(localStorage.getItem('thinkprompt_saved')||'[]');
const userPrompts=existing.filter(p=>!p.isSystemPrompt);
const systemPrompts=[];
const baseTime=Date.now();
let id=baseTime+1;
Object.keys(PROMPTS).forEach(cat=>{
PROMPTS[cat].forEach(p=>{
systemPrompts.push({id:id++,title:p.t,category:cat,isSystemPrompt:true,content:p.c,created:new Date().toLocaleDateString(),timestamp:new Date().toISOString(),author:'ThinkPrompt Team',favorite:false});
});
});
localStorage.setItem('thinkprompt_saved',JSON.stringify([...systemPrompts,...userPrompts]));
}

function showCopySuccess(msg){
const el=document.getElementById('copySuccess');
el.textContent=msg;
el.classList.add('show');
setTimeout(()=>el.classList.remove('show'),2000);
}

function saveCurrentPrompt(){
const text=(document.getElementById('promptDisplay').textContent||'').trim();
if(!text){alert('No prompt to save.');return;}
document.getElementById('saveModalOverlay').style.display='flex';
document.getElementById('saveTitle').focus();
}

function closeSaveModal(){
document.getElementById('saveModalOverlay').style.display='none';
document.getElementById('saveTitle').value='';
document.getElementById('saveDescription').value='';
}

function confirmSave(){
const title=document.getElementById('saveTitle').value.trim();
if(!title){alert('Please enter a title.');return;}
const savedPrompts=JSON.parse(localStorage.getItem('thinkprompt_saved')||'[]');
if(savedPrompts.some(p=>p.title.toLowerCase()===title.toLowerCase())){
alert('Title already exists.');
return;
}
const text=document.getElementById('promptDisplay').textContent.trim();
savedPrompts.push({id:Date.now(),title,description:document.getElementById('saveDescription').value.trim(),content:text,created:new Date().toLocaleDateString(),timestamp:new Date().toISOString(),favorite:false});
localStorage.setItem('thinkprompt_saved',JSON.stringify(savedPrompts));
closeSaveModal();
showCopySuccess('Saved!');
}

function addSinglePrompt(){
document.getElementById('newPromptTitle').value='';
document.getElementById('newPromptCategory').value='';
document.getElementById('newPromptContent').value='';
document.getElementById('addPromptOverlay').style.display='flex';
}

function closeAddPromptModal(){
document.getElementById('addPromptOverlay').style.display='none';
}

function backupLibrary(){
const savedPrompts=JSON.parse(localStorage.getItem('thinkprompt_saved')||'[]');
if(savedPrompts.length===0){
alert('No prompts to backup.');
return;
}
const backup=JSON.stringify(savedPrompts,null,2);
const blob=new Blob([backup],{type:'application/json'});
const url=URL.createObjectURL(blob);
const a=document.createElement('a');
a.href=url;
a.download=`thinkprompt-library-backup-${new Date().toISOString().split('T')[0]}.json`;
document.body.appendChild(a);
a.click();
document.body.removeChild(a);
URL.revokeObjectURL(url);
showCopySuccess('Library backed up!');
}

function loadPromptPack(){
const input=document.createElement('input');
input.type='file';
input.accept='.json,application/json';
input.onchange=e=>{
const file=e.target.files[0];
if(!file)return;
const reader=new FileReader();
reader.onload=event=>{
try{
const imported=JSON.parse(event.target.result);
if(!Array.isArray(imported)){
alert('Invalid prompt pack format.');
return;
}
const existing=JSON.parse(localStorage.getItem('thinkprompt_saved')||'[]');
const combined=[...existing,...imported];
localStorage.setItem('thinkprompt_saved',JSON.stringify(combined));
showCopySuccess(`Loaded ${imported.length} prompts!`);
}catch(err){
alert('Error loading prompt pack: '+err.message);
}
};
reader.readAsText(file);
};
input.click();
}

function saveNewPrompt(){
const title=document.getElementById('newPromptTitle').value.trim();
const category=document.getElementById('newPromptCategory').value;
const content=document.getElementById('newPromptContent').value.trim();
if(!title||!category||!content){alert('All fields required.');return;}
const savedPrompts=JSON.parse(localStorage.getItem('thinkprompt_saved')||'[]');
if(savedPrompts.some(p=>p.title.toLowerCase()===title.toLowerCase())){alert('Title exists.');return;}
savedPrompts.push({id:Date.now(),title,category,content,created:new Date().toLocaleDateString(),timestamp:new Date().toISOString(),author:'You',favorite:false});
localStorage.setItem('thinkprompt_saved',JSON.stringify(savedPrompts));
closeAddPromptModal();
showCopySuccess('Added!');
}

function showLibrary(categoryFilter=''){
const categoryNames={
'favorites':'Favorites',
'thankyou':'Thank You Notes',
'social':'Social Media',
'client':'Client Communication',
'outreach':'Direct Messages',
'listing':'Listing Presentations',
'followup':'Lead Follow-Up'
};
const titleText=categoryFilter?`LIBRARY - ${categoryNames[categoryFilter]}`:'LIBRARY';
document.querySelector('#librarySection .workspace-title').textContent=titleText;
document.getElementById('librarySection').style.display='block';
renderPromptsList('',categoryFilter);
setTimeout(()=>document.getElementById('librarySection').scrollIntoView({behavior:'smooth'}),100);
}

function renderPromptsList(searchTerm='',categoryFilter=''){
const savedPrompts=JSON.parse(localStorage.getItem('thinkprompt_saved')||'[]');
const list=document.getElementById('libraryList');
if(savedPrompts.length===0){
list.innerHTML='<div style="text-align:center;padding:40px;color:#64748b"><div style="font-size:48px">ðŸ“‚</div><h3>No prompts yet</h3></div>';
return;
}
let filtered=savedPrompts.filter(p=>p.title.toLowerCase().includes(searchTerm.toLowerCase())||p.content.toLowerCase().includes(searchTerm.toLowerCase()));
if(categoryFilter==='favorites'){
filtered=filtered.filter(p=>p.favorite===true);
}else if(categoryFilter){
filtered=filtered.filter(p=>p.category===categoryFilter);
}
if(filtered.length===0){
list.innerHTML='<div style="text-align:center;padding:40px;color:#64748b"><h3>No prompts in this category</h3></div>';
return;
}
list.innerHTML=filtered.map(p=>`
<div class="prompt-item">
<div onclick="event.stopPropagation()"><input type="checkbox" class="prompt-checkbox" data-prompt-id="${p.id}"></div>
<div class="prompt-info" onclick="loadPromptFromLibrary('${p.id}')">
<div style="display: flex; align-items: center; gap: 8px;">
<span onclick="event.stopPropagation(); toggleFavorite('${p.id}')" 
      style="cursor: pointer; font-size: 18px; user-select: none;">
${p.favorite ? 'â˜…' : 'â˜†'}
</span>
<div style="flex: 1;">
<div class="prompt-title">${p.title}</div>
<div class="prompt-date">${p.created}</div>
</div>
</div>
</div>
</div>
`).join('');
}

function loadPromptFromLibrary(id){
const savedPrompts=JSON.parse(localStorage.getItem('thinkprompt_saved')||'[]');
const prompt=savedPrompts.find(p=>p.id==id);
if(!prompt){alert('Not found.');return;}
document.getElementById('promptDisplay').innerHTML=`<pre style="white-space:pre-wrap;font-family:inherit;margin:0">${prompt.content}</pre>`;
}

function deleteSelectedPrompts(){
const checkboxes=document.querySelectorAll('.prompt-checkbox:checked');
const selectedIds=Array.from(checkboxes).map(cb=>cb.dataset.promptId);
if(selectedIds.length===0)return;
const savedPrompts=JSON.parse(localStorage.getItem('thinkprompt_saved')||'[]');
const remaining=savedPrompts.filter(p=>!selectedIds.includes(p.id.toString()));
localStorage.setItem('thinkprompt_saved',JSON.stringify(remaining));
renderPromptsList();
}

function copyPrompt(){
const text=document.getElementById('promptDisplay').textContent.trim();
if(text){
navigator.clipboard.writeText(text).then(()=>showCopySuccess('Copied!'));
}else{alert('No prompt to copy.');}
}

function editPrompt(){
document.getElementById('promptDisplay').focus();
alert('You can now edit the prompt.');
}

function exportPrompt(){
const text=document.getElementById('promptDisplay').textContent;
if(text&&text.trim()){
document.getElementById('exportFilename').value='thinkprompt-'+new Date().toISOString().split('T')[0];
document.getElementById('exportModalOverlay').style.display='flex';
document.getElementById('exportFilename').focus();
}else{alert('No prompt to export.');}
}

function closeExportModal(){
document.getElementById('exportModalOverlay').style.display='none';
document.getElementById('exportFilename').value='';
}

function confirmExport(){
const filename=document.getElementById('exportFilename').value.trim();
if(!filename){alert('Please enter a filename.');return;}
const text=document.getElementById('promptDisplay').textContent.trim();
const blob=new Blob([text],{type:'text/plain'});
const url=URL.createObjectURL(blob);
const a=document.createElement('a');
a.href=url;
a.download=`${filename}.txt`;
document.body.appendChild(a);
a.click();
document.body.removeChild(a);
URL.revokeObjectURL(url);
closeExportModal();
showCopySuccess('Exported!');
}

function switchStarter(filter){
showLibrary(filter);
document.querySelectorAll('.starter-tab').forEach(t=>t.classList.remove('active'));
document.querySelector(`[data-category="${filter}"]`).classList.add('active');
}

document.addEventListener('DOMContentLoaded',()=>{
initializeFavorites();
loadSystemPrompts();
document.querySelectorAll('.starter-tab').forEach(tab=>{
tab.addEventListener('click',()=>switchStarter(tab.dataset.category));
});
document.getElementById('librarySearch').addEventListener('input',e=>renderPromptsList(e.target.value));
document.getElementById('deleteSelected').addEventListener('click',deleteSelectedPrompts);
document.querySelectorAll('.starter-tab').forEach(t=>t.classList.remove('active'));
});
</script>
</body>
</html>